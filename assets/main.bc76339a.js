var R=Object.defineProperty;var b=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var V=(i,t,e)=>t in i?R(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,m=(i,t)=>{for(var e in t||(t={}))x.call(t,e)&&V(i,e,t[e]);if(b)for(var e of b(t))E.call(t,e)&&V(i,e,t[e]);return i};var g=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var o=(i,t,e)=>(g(i,t,"read from private field"),e?e.call(i):t.get(i)),h=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},w=(i,t,e,s)=>(g(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e);var c=(i,t,e)=>(g(i,t,"access private method"),e);function y(){const i=document.documentElement,t=document.body;return{top:0,left:0,right:i.clientWidth||t.clientWidth,width:i.clientWidth||t.clientWidth,bottom:i.clientHeight||t.clientHeight,height:i.clientHeight||t.clientHeight}}function H(){return{top:window.visualViewport.offsetTop,right:window.visualViewport.offsetLeft+window.visualViewport.width,bottom:window.visualViewport.offsetTop+window.visualViewport.height,left:window.visualViewport.offsetLeft,width:window.visualViewport.width,height:window.visualViewport.height}}function L(i){let[t,e,s,r]=i.split(/\s+/);return e==null&&(e=t),s==null&&(s=t),r==null&&(r=e),[t,e,s,r].join(" ")}function O(i,t){var e=L(t).split(" ").map((r,M)=>{if(/px$/.test(r))return parseFloat(r);if(/%$/.test(r))return parseFloat(r)*(M%2?i.width:i.height)/100;throw new Error("Only px or % is allowed in rootMargin")});const s={top:i.top-e[0],right:i.right+e[1],bottom:i.bottom+e[2],left:i.left-e[3],width:0,height:0};return s.width=s.right-s.left,s.height=s.bottom-s.top,s}function W(i){const t=O(H(),i),e=y();return[e.top-t.top,t.right-e.right,t.bottom-e.bottom,e.left-t.left].map(r=>`${r}px`).join(" ")}var d,a,n,l,u,f,p,v;class ${constructor(t,e){h(this,u);h(this,p);h(this,d,void 0);h(this,a,void 0);h(this,n,void 0);h(this,l,new Set);w(this,d,t),w(this,a,e),w(this,n,c(this,u,f).call(this)),window.visualViewport.addEventListener("resize",c(this,p,v).bind(this)),window.visualViewport.addEventListener("scroll",c(this,p,v).bind(this))}get root(){return o(this,n).root}get rootMargin(){return o(this,n).rootMargin}get thresholds(){return o(this,n).thresholds}disconnect(){o(this,l).clear(),o(this,n).disconnect()}observe(t){o(this,l).add(t),o(this,n).observe(t)}takeRecords(){return o(this,n).takeRecords()}unobserve(t){o(this,l).delete(t),o(this,n).unobserve(t)}}d=new WeakMap,a=new WeakMap,n=new WeakMap,l=new WeakMap,u=new WeakSet,f=function(){const t=o(this,a)==null?{}:m({},o(this,a));return t.root instanceof VisualViewport&&(t.rootMargin=W(t.rootMargin==null?"0":t.rootMargin),delete t.root),new IntersectionObserver(o(this,d),t)},p=new WeakSet,v=function(){o(this,d).call(this,o(this,n).takeRecords(),this),o(this,n).disconnect(),w(this,n,c(this,u,f).call(this)),o(this,l).forEach(t=>o(this,n).observe(t))};export{$ as VisualIntersectionObserver};
